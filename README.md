
# minirt

`minirt` 프로젝트는 기본적인 **레이트레이싱 엔진**을 개발하는 프로젝트로, 컴퓨터 그래픽스의 기본 원리를 이해하고 3D 장면을 렌더링하는 과정을 익히는 것을 목표로 합니다. 이 프로젝트에서는 간단한 3D 오브젝트와 광원을 구현하고, 이를 통해 광선 추적을 이용한 장면의 시각화를 경험합니다.

## 목차
- [프로젝트 개요](#프로젝트-개요)
- [기능](#기능)
- [사용된 개념](#사용된-개념)
- [구현 세부 사항](#구현-세부-사항)
- [설치 방법](#설치-방법)
- [사용 방법](#사용-방법)

## 프로젝트 개요

`minirt`는 레이트레이싱을 통해 3D 공간의 기본 오브젝트를 렌더링합니다. 간단한 구조로 3D 그래픽스를 경험하며, 3D 벡터 수학, 색상 계산, 반사 및 그림자 효과를 구현하게 됩니다.

## 기능

- **기본 도형 렌더링**: 구, 평면, 삼각형과 같은 기본 도형을 구현하여 장면을 구성합니다.
- **광원**: 점광원, 방향광 등 다양한 광원을 추가하여 장면의 조명을 조정합니다.
- **광선 추적**: 카메라에서 발사된 광선이 오브젝트와 교차하는 지점을 계산하여 해당 지점의 색상을 결정합니다.
- **그림자**: 광선이 오브젝트에 가려지면 그림자를 생성하여 현실감을 더합니다.
- **반사**: 오브젝트의 반사 특성을 구현하여 광선이 다른 오브젝트에 반사되는 효과를 추가합니다.

## 사용된 개념

- **벡터 연산**: 벡터와 행렬 연산을 통해 3D 공간에서의 위치, 방향, 법선을 계산합니다.
- **광선 추적 알고리즘**: 광선을 따라가며 오브젝트와의 충돌 여부를 계산하여 장면을 렌더링합니다.
- **조명 모델**: **Phong 조명 모델**을 사용하여 기본적인 확산 반사, 반사광을 계산합니다.
- **교차 판정**: 광선과 도형(구, 평면, 삼각형 등) 간의 교차점을 계산하여 해당 지점의 색상 및 조명을 결정합니다.
- **반사 및 굴절**: 특정 오브젝트에 대해 광선이 반사 또는 굴절되는 효과를 추가하여 렌더링의 깊이를 더합니다.

## 구현 세부 사항

- **카메라 설정**: 카메라는 3D 장면을 관찰할 위치와 방향을 지정하여, 특정 위치에서 광선을 발사합니다.
- **광선 생성**: 카메라로부터 각 픽셀에 해당하는 광선을 발사하여, 각 광선이 오브젝트와 충돌하는지 계산합니다.
- **광선-오브젝트 교차**:
  - 구: 구의 방정식을 사용해 광선이 구와 만나는 지점을 계산합니다.
  - 평면: 평면의 방정식을 이용해 광선이 평면에 닿는 지점을 계산합니다.
  - 삼각형: 광선이 삼각형과 교차하는지 확인하여 해당 부분을 렌더링합니다.
- **조명 계산**:
  - **확산 반사**: 광선이 오브젝트에 닿을 때 법선 벡터를 통해 빛의 확산 효과를 계산합니다.
  - **반사광**: 오브젝트의 반사 특성을 기반으로 반사광을 추가하여 더욱 현실적인 조명을 표현합니다.
  - **그림자**: 특정 광원이 오브젝트에 의해 가려진 경우 해당 지점에 그림자를 추가합니다.

## 설치 방법

1. 터미널에서 이 저장소를 클론합니다.
    ```bash
    git clone https://github.com/jmsmg/minirt.git
    cd minirt
    ```

2. 프로젝트를 빌드합니다.
    ```bash
    make
    ```

3. 컴파일이 완료되면 `minirt` 실행 파일이 생성됩니다.

## 사용 방법

`minirt`를 실행하여 `.rt` 파일로 정의된 장면을 렌더링할 수 있습니다. 예를 들어, `scene.rt`라는 파일이 있다면 다음과 같이 실행할 수 있습니다.

```bash
./minirt scene.rt
```

### 장면 파일 포맷

`.rt` 파일에는 장면을 구성하는 오브젝트와 광원에 대한 정보가 포함되어 있습니다. 예시 파일은 다음과 같이 작성됩니다.

```
A 0.2 255,255,255             # Ambient light with intensity 0.2 and color white
C -50,0,20 0,0,1 70           # Camera at (-50, 0, 20) pointing in (0, 0, 1) with FOV 70
L -40,10,30 0.7 255,255,255   # Light at (-40, 10, 30) with intensity 0.7 and color white
sp 0,0,20 20 255,0,0          # Sphere at (0, 0, 20) with radius 20 and color red
pl 0,1,0 0,1,0 0,255,0        # Plane with normal (0, 1, 0) through point (0, 1, 0) and color green
```
